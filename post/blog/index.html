<!DOCTYPE html>
<html lang="zh-cn">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>jiaotong  | 第一个博客--献给建站历程</title>
	<meta name="viewport" content="width=device-width,minimum-scale=1">
	<meta name="generator" content="Hugo 0.113.0">
	
	
	<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
	

	
	
	<link href="/dist/app.css" rel="stylesheet">
	

	

	
	
<link rel="shortcut icon" href="https://jiaotong.me/img/favicon.ico" type="image/png/x-icon" />


	

	
	
	
	
	
	<script>
		(function (u, c) {
			var d = document,
				t = 'script',
				o = d.createElement(t),
				s = d.getElementsByTagName(t)[0];
			o.src = u;
			if (c) {
				o.addEventListener('load', function (e) {
					c(e);
				});
			}
			s.parentNode.insertBefore(o, s);
		})('https:\/\/jiaotong.me\/lib\/pangu.min.js', function () {
			pangu.spacingPage();
		});
	</script>
	
	
	
</head>

<body class="bg-gray-100 text-gray-700 font-sans">
	<div class="p-6 sm:p-10 md:p-16 flex flex-wrap">
		<header class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-1 md:order-1 max-w-2xl">
			<div
				class="z-50 bg-gray-100 bg-opacity-75 bg-opacity-custom lg:min-w-0.7 max-w-xl md:float-right md:text-right leading-loose tracking-tight md:sticky md:top-0 pt-2">
				
<div>
	<h2>
		<a href="https://jiaotong.me" title="jiaotong" class="heading font-cursive icon">jiaotong</a>
	</h2>
</div>
<h1 class="pt-2">第一个博客--献给建站历程</h1>

<div class="flex flex-wrap justify-end pt-2 "><div class="md:flex-grow-0 font-light">
	
	
	
	
	<a class="post-taxonomy-category text-medium-red-violet-600 hover:text-medium-red-violet-400"
		href='/categories/%E8%AE%B0%E5%BD%95'>记录</a>
	
	
	

	
	&nbsp;&nbsp;
	

	
	
	
	
	<a class="post-taxonomy-tag text-eucalyptus-500"
		href='/tags/%E5%8D%9A%E5%AE%A2'>博客</a>
	
	
	
</div><time class="text-eucalyptus-500 md:text-right md:flex-grow font-light pl-4"
		datetime="2022-07-09T11:42:01Z">2022-7-9 11:42</time>
</div>

<hr />


			</div>
		</header>
		<main role="main" class="w-full md:w-3/5 xl:w-1/2 max-w-3xl order-2 md:order-2 min-h-70vh pt-2 pb-4">
			

<article>
	<section class="mx-auto content">
		<div class="c-rich-text"><h1 id="我的建站之旅">我的建站之旅</h1>
<h2 id="初心">初心</h2>
<p>2022年三四月份在知乎上看到了一篇帖子，计算机专业的学生到底该怎么学，该怎么学？学校所教授的知识根本不足以支撑我们日常的实践，竞赛，自学才能不断提示。帖子指出，他的大学就应该买台服务器，装Linux系统，去学学Linux的有关知识，再建个属于自己的博客。看到这里我便下定决心要去做！</p>
<p>在第一学期我学了点Linux的基础知识，一些简单的命令，以及vim的使用。但学了不久便停下了。而到了第二学期就基本也全忘记了，我在这一年五月开始重拾Linux的基本操作，并去搜寻关于Linux服务器的购买消息。经过比较长时间的对比，我决定去购买Ucloud那家的服务器。</p>
<h2 id="初建站">初建站</h2>
<p>我的第一台服务器！Ucloud一台1核1G1M带宽的服务器（尽管配置不太好），我装上了centos系统，开始我去复习了Linux系统的命令行基础操作，装上了XShell，想要建立一个属于自己的网站！于是我去b站找了教程，有人推荐使用宝塔面板配合wordpress，但我觉得这不能体现属于自己的浪漫。自己的网站理应由自己一个字一个字的敲出来，看来那时候的我还是太年轻，以为学了HTML和CSS就能写出网站。</p>
<p>我急迫的想要访问我的网站，于是乎网上随便扒了一份html文件扔了上去，我成功了！</p>
<p>我又想在网站上标记上属于我自己的印记，于是乎随便自拍了一张上传到了网站上，又在页角写下：2020-05-20 liqi in ChangSha.</p>
<h2 id="机缘巧合">机缘巧合</h2>
<p>之后的一天，我收到了来自Ucloud的短信，说是我的ip存在未备案域名！！！我利用该域名访问网站，没错就是我那个什么都没有的页面！</p>
<p>于是我向山本求助，我在巧合之下搜索到了一条信息，这个域名之前属于日本某个已经被抓获的诈骗集团的网站。而我凑巧地拿到了当时那个诈骗集团网站的IP。知道了这些之后，我觉得这还是蛮有意思的一次经历。</p>
<p>之后的几天，学习Linux，学习建站，由看到有人用服务器做了属于自己的云笔记，于是我也安装步骤去尝试。奈何第一次没有经验，搞错了一个东西之后，准备重装系统（哈哈，反正里面也没有什么东西，而且也更方便）。但是不小心点击了删除主机！然后我的服务器就没了，就没了，钱也退还给我了？这家公司这么爽快的么？我又去看了购买界面，发现当时的低价优惠只能享受一次？</p>
<p>到了晚上，无奈之下我去找了客服，帮我恢复主机。客服服务也是比较好，我说我误删了主机要求恢复，客服就让我留下联系方式，第二天联系我。但第二天我还是没有收到任何消息，于是晚上又去找了客服。得到的回复一样，第二天的情形依旧不变。这时我在主页看到了创建工单这个选项，填写完成后，第二天早上我就接到了电话，我的服务器回来了。</p>
<p>又过了几天，突然想起那个域名的事情，就又去搜索了一下。不搜不知道，一搜吓一大跳。那个网站名下写着2020-05-20 liqi in ChangSha. 网站也访问不到，突然想起来当时手贱为什么要写这些东西，现在服务器ip也换了，也改不了了。我的名字难道要一直放在诈骗网站下面吗？或许只能这样了。</p>
<p>&hellip;&hellip;</p>
<p>大一结束的那个暑假，我终于有时间去建立自己的网站了。这次我使用了hexo，一个开源的blog框架。</p>
<h2 id="hexo">hexo</h2>
<h3 id="安装node环境">安装node环境</h3>
<p>在安装hexo之前，我们需要nodejs和npm的支持。安装nodejs后我们需要配置node的系统环境变量：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>修改home目录下的文件.bash_profile
</span></span><span style="display:flex;"><span>$ vim ~/.bash_profile
</span></span><span style="display:flex;"><span>在文件的末尾添加
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Nodejs</span>
</span></span><span style="display:flex;"><span>export PATH<span style="color:#f92672">=</span>/usr/local/node/node-v16.13.1-linux-x64/bin:$PATH
</span></span><span style="display:flex;"><span>退出后，刷新配置文件
</span></span><span style="display:flex;"><span>$ source ~/.bash_profile
</span></span><span style="display:flex;"><span>键入node -v和npm -v后得到版本号说明成功
</span></span></code></pre></div><h3 id="安装hexo">安装hexo</h3>
<p>我们通过npm下载hexo</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ npm install -g hexo-cli
</span></span><span style="display:flex;"><span>获得版本号
</span></span><span style="display:flex;"><span>$ hexo -v
</span></span></code></pre></div><h3 id="搭建hexo博客文件并开启">搭建hexo博客文件并开启</h3>
<p>此时我们最好新建文件夹blog存放博客文件，并在该文件夹内生成博客文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ mkdir ./blog
</span></span><span style="display:flex;"><span>$ cd ./blog
</span></span><span style="display:flex;"><span>$ hexo init
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ hexo g
</span></span><span style="display:flex;"><span>$ hexo s
</span></span></code></pre></div><p>实际上此时我们的博客就已经搭建好，浏览器中输入hostlocal或IP地址（默认端口号是4000）便能看到我们搭建好的网站了！并生成了第一篇文章“Hello World”。</p>
<h3 id="接入nginx">接入nginx</h3>
<p>为了直接输入IP地址便能直接访问博客，我又想到了我们的老朋友：nginx。</p>
<p>nginx的默认端口是80，正好是http协议的默认端口。于是呢，我们就需要将hexo生成的网站静态资源放置到nginx的访问路径。</p>
<p>下载nginx后，我们需要修改nginx的默认配置网站，该配置文件是/etc/nginx/目录下的nginx.conf</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>找到默认的
</span></span><span style="display:flex;"><span>root	/usr/share/nginx/html
</span></span><span style="display:flex;"><span>并修改为
</span></span><span style="display:flex;"><span>root	<span style="color:#e6db74">&#34;hexo路径&#34;</span>/public
</span></span><span style="display:flex;"><span>退出后需要重启nginx
</span></span><span style="display:flex;"><span>$ nginx -s reload
</span></span></code></pre></div><p>此时我们重新生成hexo文件（hexo g），便可以通过nginx看到了。</p>
<h3 id="使用主题">使用主题</h3>
<p>自己的博客嘛，当然要符合自己的审美嘛。hexo有很多开源themes，刚开始本来想要选择一个简约一点的主题，名为next，奈何出了一些些bug便选择了这款看起来稍稍有些花哨的主题butterfly。hexo修改主题很简单，只需通过git或其他方式将theme下载下来，放到blog中的themes中，并将blog中文件_config.yml的theme: landscape(默认主题)修改为theme: butterfly(即更换主题名称)。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ hexo clean
</span></span><span style="display:flex;"><span>$ hexo g
</span></span><span style="display:flex;"><span>清除并重新生成便可看到修改主题后的博客。
</span></span></code></pre></div><h3 id="出现错误">出现错误</h3>
<p>此时网页中也许会报错如：hexo使用theme出现“ % extends ‘_layout.swig‘ % 、% import ‘_macro/post.swig‘ as post_template %“问题。这是因为hexo5.0之后把swig删除了，需要自己手动安装。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$  npm i hexo-renderer-swig
</span></span></code></pre></div></div>
	</section>


</article>

		</main>
		<div class="w-full h-0 flex-none order-3"></div>
		<aside role="contentinfo"
			class="w-full md:w-2/5 xl:w-1/2 md:pr-12 lg:pr-20 xl:pr-24 order-4 md:order-3 md:sticky md:bottom-0 self-end max-w-2xl">
			<div class="md:float-right md:text-right leading-loose tracking-tight md:mb-2">
				
	<div class="md:max-w-xs  flex flex-col md:items-end">
	<ul class="font-serif flex-grow-0 flex justify-between flex-wrap md:flex-col">
	
	
	<li class="px-1 md:px-0">
		<a href="/" title="首页 page" 
			class="font-medium text-medium-red-violet-600 hover:text-medium-red-violet-400" >
			首页
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/post/" title="Post page" 
			class="font-medium text-medium-red-violet-600 hover:text-medium-red-violet-400" >
			Post
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/tags/" title="Tags page" >
			Tags
		</a>
	</li>
	
	<li class="px-1 md:px-0">
		<a href="/categories/" title="categories page" >
			categories
		</a>
	</li>
	
	
	
	
</ul>
	

<div class="flex flex-wrap-reverse md:justify-end content-end md:content-start justify-start items-start   max-h-16">
	
	
	
	
	<a href='https://github.com/jiaotong325' target="_blank" class="github icon pl-1 text-eucalyptus-400 hover:text-java-400" title="github link" rel="noopener"
		aria-label="follow on github——Opens in a new window">
		
		<div class="fill-current h-8 w-8">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <g>
        <path fill="none" d="M0 0h24v24H0z"/>
        <path fill-rule="nonzero" d="M5.883 18.653c-.3-.2-.558-.455-.86-.816a50.32 50.32 0 0 1-.466-.579c-.463-.575-.755-.84-1.057-.949a1 1 0 0 1 .676-1.883c.752.27 1.261.735 1.947 1.588-.094-.117.34.427.433.539.19.227.33.365.44.438.204.137.587.196 1.15.14.023-.382.094-.753.202-1.095C5.38 15.31 3.7 13.396 3.7 9.64c0-1.24.37-2.356 1.058-3.292-.218-.894-.185-1.975.302-3.192a1 1 0 0 1 .63-.582c.081-.024.127-.035.208-.047.803-.123 1.937.17 3.415 1.096A11.731 11.731 0 0 1 12 3.315c.912 0 1.818.104 2.684.308 1.477-.933 2.613-1.226 3.422-1.096.085.013.157.03.218.05a1 1 0 0 1 .616.58c.487 1.216.52 2.297.302 3.19.691.936 1.058 2.045 1.058 3.293 0 3.757-1.674 5.665-4.642 6.392.125.415.19.879.19 1.38a300.492 300.492 0 0 1-.012 2.716 1 1 0 0 1-.019 1.958c-1.139.228-1.983-.532-1.983-1.525l.002-.446.005-.705c.005-.708.007-1.338.007-1.998 0-.697-.183-1.152-.425-1.36-.661-.57-.326-1.655.54-1.752 2.967-.333 4.337-1.482 4.337-4.66 0-.955-.312-1.744-.913-2.404a1 1 0 0 1-.19-1.045c.166-.414.237-.957.096-1.614l-.01.003c-.491.139-1.11.44-1.858.949a1 1 0 0 1-.833.135A9.626 9.626 0 0 0 12 5.315c-.89 0-1.772.119-2.592.35a1 1 0 0 1-.83-.134c-.752-.507-1.374-.807-1.868-.947-.144.653-.073 1.194.092 1.607a1 1 0 0 1-.189 1.045C6.016 7.89 5.7 8.694 5.7 9.64c0 3.172 1.371 4.328 4.322 4.66.865.097 1.201 1.177.544 1.748-.192.168-.429.732-.429 1.364v3.15c0 .986-.835 1.725-1.96 1.528a1 1 0 0 1-.04-1.962v-.99c-.91.061-1.662-.088-2.254-.485z"/>
    </g>
</svg>

		</div>
	</a>
	
	
</div>

	<div class="text-sm text-gray-500 leading-tight a-gray">
		
		<br />
		Built with Hugo and theme <a href="https://github.com/heyeshuang/hugo-theme-tokiwa">Tokiwa</a>. 116 words in this page.
	</div>
</div>

			</div>
		</aside>
		<footer class="w-full md:w-3/5 xl:w-1/2 order-3 max-w-3xl md:order-4 pt-2">
			
<hr class="double-line" />
<div class="flex flex-wrap justify-between pb-2 leading-loose font-serif">
    
    <a class="flex-grow-0" href="/post/helloworld/">
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
            height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M7.828 11H20v2H7.828l5.364 5.364-1.414 1.414L4 12l7.778-7.778 1.414 1.414z" /></svg>
        HelloWorld
    </a>
    
    
    <a class="flex-grow-0" href="/post/vim/">
        vim打造
        <svg class="fill-current inline-block h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
            height="24">
            <path fill="none" d="M0 0h24v24H0z" />
            <path d="M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z" /></svg></a>
    
</div>
<div >



</div>
<hr />
<div class="pb-2">
    
</div>
<hr />

		</footer>
		

<script src="/dist/app.js"></script>


	</div>
</body>

</html>
